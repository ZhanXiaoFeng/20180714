duAI([47],{1369:function(e,t,a){e.exports=a(1370)},1370:function(e,t,a){"use strict";function n(e){i()(".tech-"+e+"-detail").one("demo",function(){i()(".tech-"+e+"-original-card").addClass("tech-"+e+"-scanning"),setTimeout(function(){i()(".tech-"+e+"-original-card").removeClass("tech-"+e+"-scanning").addClass("tech-"+e+"-scanned"),i()(".tech-"+e+"-arrow").addClass("tech-"+e+"-arrow-scanned"),i()(".tech-"+e+"-scan-result").addClass("tech-"+e+"-scanned")},2e3)})}Object.defineProperty(t,"__esModule",{value:!0});var o=a(9),i=a.n(o),s=a(150),r=a.n(s),c=a(305),l=a(1371),d=(a.n(l),a(1372));a.n(d);i()(document).ready(function(){i()(window).scroll(r()(function(){i()(document).scrollTop()>=200&&i()(".tech-idcard-detail").trigger("demo"),i()(document).scrollTop()>=500?i()(".tech-tab").addClass("tech-top"):i()(".tech-tab").removeClass("tech-top")},16)),i()(".tech-tab-list").on("click",".tech-tab-item",function(){var e=this;i()(this).addClass("tech-tab-change").siblings().removeClass("tech-tab-change"),i()(".ocr-cards-"+i()(this).index()).show().siblings(".ocr-cards").hide(),i()(window).scroll(r()(function(){i()(document).scrollTop()>=200&&(1===i()(e).index()?i()(".tech-bankcard-detail").trigger("demo"):2===i()(e).index()?i()(".tech-driving-detail").trigger("demo"):3===i()(e).index()?i()(".tech-vehicle-detail").trigger("demo"):0===i()(e).index()&&i()(".tech-idcard-detail").trigger("demo"))},300))}),n("idcard"),n("bankcard"),n("driving"),n("vehicle");var e={"住址":"address","公民身份号码":"card-no","出生":"birthday","民族":"folk","性别":"gender","姓名":"name","女":"female","男":"male"},t={1:"借记卡",2:"信用卡"},a={"证号":"card-num","有效期限":"expire-date","至":"drive-to","准驾车型":"ok-type","姓名":"name","住址":"address-driving","出生日期":"birthday","国籍":"folk","性别":"gender","男":"male","女":"female","初次领证日期":"certify-time"},o={"号牌号码":"brand-num","车辆类型":"card-no","使用性质":"use-nature","品牌型号":"brand-model","住址":"address-vehicle","所有人":"name","车辆识别代号":"vehicle-id","发动机号码":"machine-num","注册日期":"register-date","发证日期":"certify-date"};Object(c.a)("idcard","idcard",e),Object(c.a)("bankcard","bankcard",t),Object(c.a)("driving","driving",a),Object(c.a)("vehicle","vehicle",o)})},1371:function(e,t){},1372:function(e,t,a){e.exports=a.p+"temp/src/view/technology/ocr-cards.hbs"},154:function(e,t,a){e.exports={default:a(157),__esModule:!0}},157:function(e,t,a){a(158),e.exports=a(23).Object.keys},158:function(e,t,a){var n=a(149),o=a(148);a(192)("keys",function(){return function(e){return o(n(e))}})},168:function(e,t,a){var n=a(155);e.exports=(n.default||n).template({compiler:[7,">= 4.0.0"],main:function(e,t,a,n,o){var i,s,r=null!=t?t:e.nullContext||{},c=a.helperMissing,l=e.escapeExpression;return'<div class="ai-modal alert" id="'+l((s=null!=(s=a.id||(null!=t?t.id:t))?s:c,"function"==typeof s?s.call(r,{name:"id",hash:{},data:o}):s))+'">\n    <header class="modal-header">\n        <h3>'+l((s=null!=(s=a.title||(null!=t?t.title:t))?s:c,"function"==typeof s?s.call(r,{name:"title",hash:{},data:o}):s))+'</h3>\n        <a class="modal-x"></a>\n    </header>\n    <section class="modal-content">\n        <div style="text-align: center; color: #666;font-size: 14px;margin-bottom: 20px;">\n            '+(null!=(s=null!=(s=a.content||(null!=t?t.content:t))?s:c,i="function"==typeof s?s.call(r,{name:"content",hash:{},data:o}):s)?i:"")+'\n        </div>\n        <div style="text-align: center;">\n            <button type="button" class="btn-normal cancel">确定</button>\n        </div>\n    </section>\n</div>\n'},useData:!0})},176:function(e,t,a){e.exports=a.p+"1518086077335/ai_images/error/image-format.png"},177:function(e,t,a){e.exports=a.p+"1518086077335/ai_images/error/too-large-new.png"},186:function(e,t,a){"use strict";var n=a(78),o=a.n(n),i=a(79),s=a.n(i),r=a(9),c=a.n(r),l=a(80),d=a(81),u=a(187),m=a(176),p=a(177),h=function(){function e(t){var a=this,n=t.selector,i=t.image,s=t.type,r=t.apiType,l=t.toCheck,u=void 0===l||l,m=t.scale,p=void 0===m?1:m,h=t.success,f=t.fail;if(o()(this,e),!c()(n).context)throw"DemoCanvas：未寻找到容器!";if(this.container=c()(n),this.type=s,this.scale=p,this.apiType=r,this.image=new Image,this.success=h||c.a.noop,this.fail=f||c.a.noop,this.image.onerror=function(){a.fail(),new d.a("图片加载失败，请重试")},u){({url:this.checkByUrl,stream:this.checkByStream})[this.type](i,r).then(function(e){a.image.onload=function(){a.render(!0)},a.image.src=e},function(e){a.image.onload=function(){a.render(!1)},a.image.src=e})}else this.image.onload=function(){a.render(!0)},this.image.src=i}return s()(e,[{key:"checkByUrl",value:function(e,t){var a=c.a.Deferred();return Object(l.c)({imageUrl:e,type:t,success:function(e){var t=e.data["Content-Type"],n=e.data["Content-Length"];return!t&&!n||0!==e.errno?void a.reject(u):/image\/(png|bmp|jpg|jpeg)/.test(t)?n>4194304?void a.reject(p):void a.resolve(e.data.image_data):void a.reject(m)},fail:function(){a.reject(u)}}),a.promise()}},{key:"checkByStream",value:function(e){var t=c.a.Deferred(),a=new FileReader;return e?(a.readAsDataURL(e),a.onload=function(a){return/image\/(png|bmp|jpeg)/.test(e.type)?e.size>4194304?(t.reject(p),!1):void t.resolve(a.target.result):(t.reject(m),!1)},a.onerror=function(){t.reject(u)},t.promise()):(t.reject(u),t.promise())}},{key:"render",value:function(e){var t=this.container.width(),a=this.container.height(),n=this.image.width,o=this.image.height,i=c()("<canvas>您的浏览器暂时不支持canvas，请选用现代浏览器！</canvas>").attr("width",n).attr("height",o);i[0].getContext("2d").drawImage(this.image,0,0);var s=n/t,r=o/a,l=this.scale*(s>1||r>1?1/(s>=r?s:r):1);i.css({position:"absolute",left:"50%",top:"50%","-webkit-transform":"translate(-50%, -50%) scale("+l+")","-moz-transform":"translate(-50%, -50%) scale("+l+")","-o-transform":"translate(-50%, -50%) scale("+l+")",transform:"translate(-50%, -50%) scale("+l+")"}),i.attr("data-scale",l),this.container.empty().append(i),e?this.success(this.image.src):this.fail()}}]),e}();t.a=h},187:function(e,t,a){e.exports=a.p+"1518086077335/ai_images/error/not-found.png"},305:function(e,t,a){"use strict";function n(e,t,a){var n=l()("#demo-result-"+e+" .result-background"),o=l()("#demo-photo-url-"+e),s=l()(".demo-card-list-"+e+" > li"),c=l()(".bank-card-num"),p=l()("#issuing-bank"),h=l()("#card-type"),f=l()(".expire-date"),v=!1,g=function(){l()("#demo-json-"+e+" > p").empty(),l()("#demo-photo-upload-"+e+"  > input").val(""),n.attr("class","result-background"),l()("#demo-photo-upload-"+e+", #scan-photo-"+e).removeClass("disabled"),v=!1},y=function(o,s,d){l()("#demo-json-"+e+" > p").empty(),n.attr("class","result-background loading");var y={success:function(t){if(l()("#demo-photo-upload-"+e+", #scan-photo-"+e).removeClass("disabled"),l()("#demo-json-"+e+" > p").html(r()(t,null,"\t")),n.removeClass("loading"),0!==t.errno)return n.toggleClass("has-result-"+e+" man female",!1).toggleClass("error-upload-fail",107===t.errno).toggleClass("error-timeout",28===t.errno).toggleClass("error-image-format",106===t.errno),v=!1,-1===[106,107,28].indexOf(t.errno)&&new m.a(t.msg),!1;var o=!0,s="",d=t.data.words_result||t.data.result;i()(d).forEach(function(t){if(d[t].words){var i=d[t].words;o=o&&!i,n.find("."+a[t]).html(i),"性别"===t&&l()("#demo-result-"+e+" .result-background").toggleClass(a[i]||"",!0),"至"===t&&(s="至"+d[t].words)}else o=o&&!d,n.find("."+a[t]).html(d[t]),c.text(d.bank_card_number),p.text(d.bank_name),h.text(a[d.bank_card_type])}),f.html(f.html()+s),n.toggleClass("has-result-"+e,!o).toggleClass("error-no-result",o),v=!1},fail:function(e){g()}};"url"===o?y.imageUrl=d:"stream"===o&&(y.image=s),y.type=t,Object(u.d)(y)};l()("#demo-photo-upload-"+e+"  > input").change(function(t){if(""===l()(this).val())return!1;if(v)return void new m.a("操作正在进行中，请稍候再试！");v=!0,l()("#demo-photo-upload-"+e+", #scan-photo-"+e).addClass("disabled");var a=l()(this)[0].files[0];new d.a({selector:"#demo-origin-"+e,image:a,type:"stream",success:function(t){l()("#demo-photo-upload-"+e+"  > input").val(""),y("stream",t)},fail:g})}),o.change(function(){s.removeClass("active")}),l()("#scan-photo-"+e).click(function(){if(v)return void new m.a("操作正在进行中，请稍候再试！");if(l()(this).hasClass("disabled")||!o.val())return!1;v=!0,l()("#demo-photo-upload-"+e+", #scan-photo-"+e).addClass("disabled");var t=o.val();new d.a({selector:"#demo-origin-"+e,image:t,type:"url",apiType:"commontext",success:function(e){y("url",e,t)},fail:g})}),l()("#demo-photo-upload-"+e).click(function(){if(l()(this).hasClass("disabled"))return!1}),s.click(function(){if(v)return void new m.a("操作正在进行中，请稍候再试！");v=!0,l()(".demo-card-list-"+e+" > li").removeClass("active"),l()(this).addClass("active");var t=""+window.location.protocol+l()(this).find("img").attr("src");l()("#demo-photo-upload-"+e+", #scan-photo-"+e).addClass("disabled"),new d.a({selector:"#demo-origin-"+e,image:t,type:"url",toCheck:!1,success:function(e){y("url",e,t)},fail:g})}),s[0].click()}t.a=n;var o=a(154),i=a.n(o),s=a(64),r=a.n(s),c=a(9),l=a.n(c),d=a(186),u=a(80),m=a(81)},64:function(e,t,a){e.exports={default:a(68),__esModule:!0}},68:function(e,t,a){var n=a(23),o=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return o.stringify.apply(o,arguments)}},80:function(e,t,a){"use strict";function n(e){var t=e.image,a=void 0===t?null:t,n=e.imageUrl,o=void 0===n?null:n,i=e.type,s=void 0===i?"commontext":i,r=e.success,c=void 0===r?m.a.noop:r,l=e.fail,d=void 0===l?m.a.noop:l;m.a.post("/aidemo",{type:s,image:a,image_url:o}).success(c).fail(d)}function o(e){var t=e.image,a=void 0===t?null:t,n=e.imageUrl,o=void 0===n?null:n,i=e.type,s=void 0===i?"commontext":i,r=e.success,c=void 0===r?m.a.noop:r,l=e.fail,d=void 0===l?m.a.noop:l;m.a.post("/aidemo",{type:s,image:a,image_url:o}).success(c).fail(d)}function i(e){var t=e.image,a=void 0===t?null:t,n=e.imageUrl,o=void 0===n?null:n,i=e.success,s=void 0===i?m.a.noop:i,r=e.fail,c=void 0===r?m.a.noop:r;m.a.post("/aidemo",{type:"pornography",image:a,image_url:o}).success(s).fail(c)}function s(e){var t=e.image,a=void 0===t?null:t,n=e.imageUrl,o=void 0===n?null:n,i=e.success,s=void 0===i?m.a.noop:i,r=e.fail,c=void 0===r?m.a.noop:r;m.a.post("/aidemo",{type:"terror",image:a,image_url:o}).success(s).fail(c)}function r(e){var t=e.imageUrl,a=void 0===t?null:t,n=e.type,o=e.success,i=void 0===o?m.a.noop:o,s=e.fail,r=void 0===s?m.a.noop:s;m.a.post("/aidemo",{action:"getHeader",type:n,image_url:a}).success(i).fail(r)}function c(e){var t=e.words,a=void 0===t?null:t,n=e.success,o=void 0===n?m.a.noop:n,i=e.fail,s=void 0===i?m.a.noop:i;m.a.post("/aidemo",{type:"wakescore",kw:a}).success(o).fail(s)}function l(e){var t=e.words,a=void 0===t?null:t,n=e.success,o=void 0===n?m.a.noop:n;window.open("/aidemo?type=wakedownload&kw="+a,"_blank"),o()}function d(e){var t=e.data,a=void 0===t?{}:t,n=e.success,o=void 0===n?m.a.noop:n,i=e.fail,s=void 0===i?m.a.noop:i;m.a.post("/aidemo",{type:"tns",spd:a.speed,vol:a.vol,per:a.person,tex:a.text}).success(o).fail(s)}t.d=n,t.e=o,t.f=i,t.g=s,t.c=r,t.a=c,t.b=l,t.h=d;var u=a(9),m=a.n(u)},81:function(e,t,a){"use strict";var n=a(185),o=a.n(n),i=a(78),s=a.n(i),r=a(79),c=a.n(r),l=a(193),d=a.n(l),u=a(195),m=a.n(u),p=a(196),h=a.n(p),f=a(9),v=a.n(f),g=a(197),y=a(168),b=a.n(y),k=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this));return a.title="提示",a.content=e||"",a.init(),a}return h()(t,e),c()(t,[{key:"init",value:function(){var e=b()({id:this.id,title:this.title,content:this.content});v()(this.container).append(e),this.bindEvent(),m()(t.prototype.__proto__||o()(t.prototype),"show",this).call(this)}},{key:"hide",value:function(){this.getModal().hide().remove(),v()("body").removeClass("modal-show")}},{key:"bindEvent",value:function(){var e=this;m()(t.prototype.__proto__||o()(t.prototype),"bindEvent",this).call(this),this.getModal().on("click","button.cancel",function(t){t.preventDefault(),e.hide()})}}]),t}(g.a);t.a=k}},[1369]);